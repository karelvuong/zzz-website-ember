---
language: node_js

sudo: false

node_js:
  - "0.10"
  - "0.12"
  - "iojs"

cache:
  directories:
    - node_modules

before_install:
  - "npm config set spin false"
  - "npm install -g npm@^2"

install:
  - npm install -g bower
  - npm install
  - npm install spm coveralls
  - bower install

before_script:
  - node_modules/spm/bin/spm-install

script:
  - npm test
  - node_modules/spm/bin/spm-test

after_success:
  - node_modules/spm/bin/spm-test --coveralls | node_modules/.bin/coveralls
